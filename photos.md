I want to start hosting my photos somewhere. Currently my photos are scattered across Cohost, Discord, Twitter, Furtrack &c. I want to have my own gallery.

I could store things directly on Github Pages (like i do for some of my random files), but my photos already weigh about 200mb and that number will grow. Github recommends that repos weigh less than 1GB.

Good things about bunny.net services: they're inexpensive, my friend uses them. Bad things: I'm a beginner at this and their documentation is pretty poor.

# Plan

## static side

My static site will be extended with a statically-generated gallery section. The gallery displays thumbnails of each photo, sorted by category/fur event. There's an "Other" category for unsorted images. The gallery should display 3 images per line (my site design currently maxes out at 800px wide, so 240px should leave decently sized thumbnails with some room for padding)

Clicking a thumbnail takes you to a page for that photo, which has a larger version of it, some metadata (automatic things scraped from image metadata and EXIF + manual things like a "view on furtrack" link), and optionally some words about the image.

All of the image metadata will be stored in the github repo, probaly in a JSON file. Each json entry will include the original filename of the image (in case I break my CDN and have to recreate it from storage), metadata and comments as mentioned above, and CDN links to the thumbnail (240px wide), display size (maybe longest-edge 1000px?) and the original file. The static site will be generated by reading that JSON file.

Originals will be served in their original file format (JPG). Thumbnails and large-sizes will be served in WebP. Thumbnails will be square, cropped to the center of the image.

Adding an image to the json database will be done with a little CLI program. Given the original file, the progrm will take care of downscaling/compressing the images (probably shelling out to imagemagick/cwebp) and using the bunny HTTP API to upload the files to the storage bucket. I don't mind uploading photos one at a time, I don't have too many, so far.

## cdn side

Products to leverage: [bunny.net CDN](https://bunny.net/cdn/) (probably with [perma-cache](https://bunny.net/cdn/perma-cache/) if it's free, i can't find pricing), and [bunny.net Storage](https://bunny.net/storage/). I might need bunny.net DNS, but I'm fine if the URLs look messy/are "unbranded".

Storage needs: Only about 200MB of original-quality photos, plus whatever the downscaled webp's incur (probably not much). bunny.net includes an image optimizer service but it's expensive and I don't need to dynamically generate thumbnails, so I am not using it.

Traffic needs: Very low traffic. Someone could try and cause trouble by repeatedly downloading images and trying to incur overage charges, but if my images start 404ing I don't really care, this isn't my business.

I'll have to work this part out as I go..! I think images will get uploaded to the Bunny storage bucket and served through the Bunny cdn. I don't know if I'll need to make a pull zone or something, or if they can be directly connected.